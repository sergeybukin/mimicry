const Pool = require("pg").Pool;
const dotenv = require("dotenv");
const closetData = [
  {
    id: "clo-1",
    article: "Ankle socks",
    clo: 0.02,
    section: "socks",
    gender: "unisex",
    icon: "ankle-socks",
    clothingType: "accs",
  },
  {
    id: "clo-2",
    article: "Sandals",
    clo: 0.02,
    section: "shoes",
    gender: "unisex",
    icon: "sandals",
    clothingType: "shoes",
  },
  {
    id: "clo-3",
    article: "Shoes",
    clo: 0.02,
    section: "shoes",
    gender: "unisex",
    icon: "shoes-men",
    clothingType: "shoes",
  },
  {
    id: "clo-4",
    article: "Panty hose",
    clo: 0.02,
    section: "underwear",
    gender: "women",
    icon: "panty-hose",
    clothingType: "under",
  },
  {
    id: "clo-5",
    article: "Calf length socks",
    clo: 0.03,
    section: "socks",
    gender: "unisex",
    icon: "calf-length-socks",
    clothingType: "accs",
  },
  {
    id: "clo-6",
    article: "Women's underwear",
    clo: 0.03,
    section: "underwear",
    gender: "women",
    icon: "women-underwear",
    clothingType: "under",
  },
  {
    id: "clo-7",
    article: "Men's underwear",
    clo: 0.04,
    section: "underwear",
    gender: "men",
    icon: "men-underwear",
    clothingType: "under",
  },
  {
    id: "clo-8",
    article: "Knee socks (thick)",
    clo: 0.06,
    section: "socks",
    gender: "unisex",
    icon: "knee-socks",
    clothingType: "accs",
  },
  {
    id: "clo-9",
    article: "Short shorts",
    clo: 0.06,
    section: "shorts",
    gender: "unisex",
    icon: "short-shorts",
    clothingType: "bottom",
  },
  {
    id: "clo-10",
    article: "Walking shorts",
    clo: 0.08,
    section: "shorts",
    gender: "unisex",
    icon: "walking-shorts",
    clothingType: "bottom",
  },
  {
    id: "clo-11",
    article: "T-shirt",
    clo: 0.08,
    section: "t-shirt",
    gender: "unisex",
    icon: "t-shirt",
    clothingType: "top",
  },
  {
    id: "clo-12",
    article: "Boots",
    clo: 0.1,
    section: "shoes",
    gender: "unisex",
    icon: "boots",
    clothingType: "shoes",
  },
  {
    id: "clo-13",
    article: "Sleeveless scoop-neck blouse",
    clo: 0.12,
    section: "top",
    gender: "women",
    icon: "sleeveless-scoop-neck-blouse",
    clothingType: "top",
  },
  {
    id: "clo-14",
    article: "Short-sleeve knit shirt",
    clo: 0.17,
    section: "t-shirt",
    gender: "unisex",
    icon: "short-sleeve-knit-shirt",
    clothingType: "top",
  },
  {
    id: "clo-15",
    article: "Sleeveless short gown (thin)",
    clo: 0.18,
    section: "dress",
    gender: "women",
    icon: "sleeveless-short-gown",
    clothingType: "top",
  },
  {
    id: "clo-16",
    article: "Short-sleeve dress shirt",
    clo: 0.19,
    section: "shirt",
    gender: "unisex",
    icon: "dress-shirt",
    clothingType: "top",
  },
  {
    id: "clo-17",
    article: "Sleeveless long gown (thin)",
    clo: 0.2,
    section: "dress",
    gender: "women",
    icon: "sleeveless-long-gown",
    clothingType: "top",
  },
  {
    id: "clo-18",
    article: "Long underwear top",
    clo: 0.2,
    section: "underwear",
    gender: "women",
    icon: "long-underwear-top",
    clothingType: "under",
  },
  {
    id: "clo-19",
    article: "Thick skirt",
    clo: 0.23,
    section: "skirt",
    gender: "women",
    icon: "thick-scirt",
    clothingType: "bottom",
  },
  {
    id: "clo-20",
    article: "Long-sleeve dress shirt",
    clo: 0.25,
    section: "shirt",
    gender: "unisex",
    icon: "dress-shirt",
    clothingType: "top",
  },
  {
    id: "clo-21",
    article: "Long-sleeve flannel shirt",
    clo: 0.34,
    section: "shirt",
    gender: "unisex",
    icon: "long-sleeve-flannel-shirt",
    clothingType: "top",
  },
  {
    id: "clo-22",
    article: "Long-sleeve sweat shirt",
    clo: 0.34,
    section: "shirt",
    gender: "unisex",
    icon: "long-sleeve-sweat-shirt",
    clothingType: "top",
  },
  {
    id: "clo-23",
    article: "Long-sleeve long gown",
    clo: 0.46,
    section: "dress",
    gender: "women",
    icon: "long-sleeve-long-gown",
    clothingType: "top",
  },
  {
    id: "clo-24",
    article: "Thin trousers",
    clo: 0.15,
    section: "trousers",
    gender: "unisex",
    icon: "trousers",
    clothingType: "bottom",
  },
  {
    id: "clo-25",
    article: "Thick trousers",
    clo: 0.24,
    section: "trousers",
    gender: "unisex",
    icon: "trousers",
    clothingType: "bottom",
  },
  {
    id: "clo-26",
    article: "Sweatpants",
    clo: 0.28,
    section: "sport",
    gender: "unisex",
    icon: "sweatpants",
    clothingType: "bottom",
  },
  {
    id: "clo-27",
    article: "Overalls",
    clo: 0.49,
    section: "special",
    gender: "unisex",
    icon: "overalls",
    clothingType: "top",
  },
  {
    id: "clo-28",
    article: "Thin skirt",
    clo: 0.14,
    section: "skirt",
    gender: "women",
    icon: "thin-skirt",
    clothingType: "bottom",
  },
  {
    id: "clo-29",
    article: "Single-breasted coat (thin)",
    clo: 0.36,
    section: "outerwear",
    gender: "unisex",
    icon: "single-breasted-coat",
    clothingType: "top",
  },
  {
    id: "clo-30",
    article: "Single-breasted coat (thick)",
    clo: 0.44,
    section: "outerwear",
    gender: "unisex",
    icon: "single-breasted-coat",
    clothingType: "top",
  },
  {
    id: "clo-31",
    article: "Double-breasted coat (thin)",
    clo: 0.42,
    section: "outerwear",
    gender: "unisex",
    icon: "double-breasted-coat",
    clothingType: "top",
  },
  {
    id: "clo-32",
    article: "Double-breasted coat (thick)",
    clo: 0.48,
    section: "outerwear",
    gender: "unisex",
    icon: "single-breasted-coat",
    clothingType: "top",
  },
  {
    id: "clo-33",
    article: "Cap",
    clo: 0.01,
    section: "hat",
    gender: "unisex",
    icon: "cap",
    clothingType: "head",
  },
  {
    id: "clo-34",
    article: "Winter hat",
    clo: 0.03,
    section: "hat",
    gender: "unisex",
    icon: "hat",
    clothingType: "head",
  },
];

dotenv.config({ path: ".env" });
const pool = new Pool({
  user: "mimicry",
  host: "90.156.203.33",
  database: "mimicry",
  password: "PussyDog1960",
  port: 5432,
});

const postData = (body) => {
  return new Promise(function (resolve, reject) {
    const mapClosetValues = closetData.map(
      (e) =>
        `('${e.id}', '${e.article}', '${e.clo}', '${e.section}', '${e.gender}', '${e.icon}', '${e.clothingType}')`
    );
    const poolString = `INSERT into closet VALUES ${mapClosetValues}`;
    console.log(poolString);
    pool.query(poolString, (error, results) => {
      if (error) {
        reject(error);
      }
      resolve(results);
    });
  });
};

postData().then(console.log).catch(console.log);
